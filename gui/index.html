<!DOCTYPE html>
<html>
	<head>
	  <meta charset="UTF-8">
	  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	  <title>NickelBot | Home</title>
	  <link rel="stylesheet" type="text/css" href="/gui/style.css">
	</head>
	<body>
		<h1>NickelBot</h1>
		<h2>Home</h2>
		<div>
			<a href="/">Home</a> | <a href="/bitcointxsound/">What does a Bitcoin Transaction sound like?</a> | <a href="/supertrollbox.php">Super Trollbox</a><br>
		</div>
		<br><br>
		<div style='clear:both;'></div>

		<h1>NickelBot - Bitcoin trading bot in the cloud.</h1>
		<p>This is the home of NickelBot. NickelBot does stuff with Bitcoin such as trading and investing.</p>
		<p>Check back sometime to see if there are tools that will be open to the public.</p>
		<p>There will probably be be some Bitcoin bots living here in the cloud sometime soon that will be accessible to everyone.
		<p>Contact <a href="mailto:adam.cox9@gmail.com">Adam.Cox9@gmail.com</a> with questions.</p>
		<p>Here this is on <a href="https://bitcointalk.org/index.php?topic=1420693.0">https://bitcointalk.org/index.php?topic=1420693.0</a></p>
		<p>Here this is on <a href="https://github.com/AdamCox9/nickelbot">https://github.com/AdamCox9/nickelbot</a></p>

		<div id="div_exchanges">
			<img src="/gui/img/ajax-loader.gif"/>
		</div>

		<div id="div_deposit_addresses">
			<a href="#" id="a_deposit_addresses">Load deposit addresses...</a>
		</div>
		
		<div id="div_open_orders">
			<a href="#" id="a_open_orders">Load open orders...</a>
		</div>
		
		<div id="div_completed_orders">
			<a href="#" id="a_completed_orders">Load last 100 completed orders...</a>
		</div>

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
		  
		<script type="text/javascript">

			$.ajax({
				  url: "/api/index.php?action=exchanges",
				  context: document.body
				}).done(function(data) {
				  //console.log( JSON.stringify( data ) );
				  $( 'div#div_exchanges' ).html( data );
				});

			$( "#a_deposit_addresses" ).click(function() {
				exchanges = $( 'div#div_exchanges' ).html();
				var obj = JSON.parse( exchanges );
				console.log( obj );
				$.each(obj, function( index, value ) {
					$.ajax({
					  url: "/api/index.php?action=deposit_addresses&exchange="+value,
					  context: document.body
					}).done(function(data) {
					  var obj = JSON.parse( data );
					  $.each( obj, function( index, value ) {
						for( var i = 0; i < value.length; i++ ) {
							$( 'div#div_deposit_addresses' ).append( "<div class='deposit_address'>" + index + " " + value[i]['currency'] + " " + value[i]['address'] + " " + value[i]['wallet_type'] + "</div>" );
						}
					  });
					});
				});
			});

			$( "#a_open_orders" ).click(function() {
				$.ajax({
					  url: "/api/index.php?action=open_orders",
					  context: document.body
					}).done(function(data) {
					  //console.log( JSON.stringify( data ) );
					  $( 'div#div_open_orders' ).html( data );
					});
			});
			$( "#a_completed_orders" ).click(function() {
				$.ajax({
					  url: "/api/index.php?action=completed_orders",
					  context: document.body
					}).done(function(data) {
					  console.log( JSON.stringify( data ) );
					  $( 'div#div_completed_orders' ).html( data );
					});
			});
		</script>

	</body>
</html>